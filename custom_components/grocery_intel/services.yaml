add_receipt:
  name: Add receipt
  description: Add a grocery receipt and update spend totals.
  fields:
    total:
      name: Total
      description: Receipt total amount.
      required: true
      selector:
        number:
          min: 0
          mode: box
          step: 0.01
    date:
      name: Date
      description: ISO date or datetime. Defaults to now in Home Assistant timezone.
      required: false
      selector:
        text:
    store:
      name: Store
      description: Store name.
      required: false
      selector:
        text:
    raw_text:
      name: Raw text
      description: Raw receipt text.
      required: false
      selector:
        text:
    line_items:
      name: Line items
      description: List of line item objects with raw_name and line_total.
      required: false
      selector:
        object:

undo_activity:
  name: Undo activity
  description: Undo a previous receipt-added activity.
  fields:
    activity_id:
      name: Activity ID
      description: Activity ID to undo.
      required: true
      selector:
        text:

reprocess_receipts:
  name: Reprocess receipts
  description: Re-run matching and observation generation for recent receipts.
  fields:
    receipt_id:
      name: Receipt ID
      description: Reprocess a specific receipt if provided.
      required: false
      selector:
        text:
    limit:
      name: Limit
      description: Max number of receipts to reprocess when no receipt_id is provided.
      required: false
      selector:
        number:
          min: 1
          max: 500
          mode: box
          step: 1

scan_receipts_inbox:
  name: Scan receipts inbox
  description: Scan the receipts inbox path for new files and archive them.

run_ocr:
  name: Run OCR
  description: Run OCR for pending receipts or a specific receipt.
  fields:
    receipt_id:
      name: Receipt ID
      description: Run OCR for a specific receipt if provided.
      required: false
      selector:
        text:
